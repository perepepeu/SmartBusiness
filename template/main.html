<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Principal - Organizador Financeiro</title>
    <link rel="stylesheet" href="../../static/styles.css">
</head>
<body>
    <nav class="navbar">
        <a href="main.html" class="logo">SmartBusiness</a>
        <div class="menu">
            <a href="../products/add-product.html">Cadastrar Produto</a>
            <a href="../products/list-products.html">Listar Produtos</a>
            <a href="../settings/store-settings.html">Configurações da Loja</a>
            <a href="../settings/user-settings.html">Configurações do Usuário</a>
        </div>
        <div class="user-info" id="userInfo">Bem-vindo, <span id="userName">Usuário</span></div>
    </nav>
    <main>
        <h2>Bem-vindo ao painel principal!</h2>
        <p>Escolha uma das opções acima para começar.</p>
    </main>
    <footer>
        <p>&copy; 2025 Organizador Financeiro para Negócios. Todos os direitos reservados.</p>
    </footer>
    <script type="module">
        import { getAuth } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const auth = getAuth();

        // Verifica se o usuário está logado
        document.addEventListener("DOMContentLoaded", () => {
            const user = auth.currentUser;

            if (user) {
                document.getElementById("userName").textContent = user.email; // Exibe o e-mail do usuário
            } else {
                window.location.href = "../../index.html"; // Redireciona para o login se não estiver logado
            }
        });

        // Função para logout
        function logout() {
            document.cookie = "loggedIn=; path=/; max-age=0"; // Remove o cookie
            auth.signOut().then(() => {
                window.location.href = "../../index.html"; // Redireciona para o login
            });
        }
    </script>
</body>
</html>